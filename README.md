# Проект "Share It"

## Стэк
Java, Spring Boot, Hibernate, Docker

## Описание
Бэкенд сервиса для "шеринга" вещей между пользователями

## Реализовано
* Микросервисная архитектура - модуль "gateway" для валидации запросов и модуль "server" для основной функциональности
* Запросы пользователями определенных вещей
* Бронирование и сдача вещей в аренду
* Возможность поиска вещей по названиюю и описанию
*  Возможность оставить комментарии к вещам, которые пользоваель брал в аренду

# API

## Пользователи
* <b>POST /users</b> - Cоздание нового пользователя.
* <b>GET /users/{userId}</b> - Получение информации о пользователе по id.
* <b>GET /users</b> - Получение списка всех пользователей.
* <b>PATCH /users/{userId}</b> - Изменение данных пользователя по id.
* <b>DELETE /users/{userId}</b> - Удаление пользователя.

## Вещи
* <b>POST /items</b> - Создание новой вещи. На вход поступает объект <b>ItemDto</b>. Параметр <i>userId</i> в заголовке <b>X-Sharer-User-Id</b> — это идентификатор пользователя, который добавляет вещь. Именно этот пользователь — владелец вещи. Идентификатор владельца будет поступать на вход в каждом из запросов, рассмотренных далее.
* <b>GET /items/{itemId}</b> - Просмотр информации о конкретной вещи по её идентификатору. Информацию о вещи может просмотреть любой пользователь.
* <b>GET /items</b> - Просмотр владельцем списка всех его вещей с указанием названия и описания для каждой. 
* <b>PATCH /items/{itemId}</b> - Редактирование вещи. Изменить можно название, описание и статус доступа к аренде. Редактировать вещь может только её владелец.
* <b>DELETE /items/{itemId}</b> - Удаление вещи.
* <b>GET /items/search?text={text}</b> - Поиск вещи потенциальным арендатором. Пользователь передаёт в строке запроса текст, и система ищет вещи, содержащие этот текст в названии или описании.В параметр <i>text</i> передаётся текст для поиска. Поиск возвращает только доступные для аренды вещи.

## Комментарии
* <b>POST /items/{itemId}/comment</b> - Оставить комментарий к вещи.

## Бронирование и аренда
* <b>POST /bookings</b> - Добавление нового запроса на бронирование. Запрос может быть создан любым пользователем, а затем подтверждён владельцем вещи.
После создания запрос находится в статусе WAITING — «ожидает подтверждения».
* <b>PATCH /bookings/{bookingId}?approved={approved}</b> - Подтверждение или отклонение запроса на бронирование. Может быть выполнено только владельцем вещи. Затем статус бронирования становится либо APPROVED, либо REJECTED. Параметр approved может принимать значения true или false.
* <b>GET /bookings/{bookingId}</b> - получение данных о конкретном бронировании (включая его статус). Может быть выполнено либо автором бронирования, либо владельцем вещи, к которой относится бронирование.
* <b>GET /bookings?state={state}</b> - Получение списка всех бронирований текущего пользователя. Параметр state необязательный и по умолчанию равен ALL (англ. «все»). Также он может принимать значения CURRENT (англ. «текущие»), **PAST** (англ. «завершённые»), FUTURE (англ. «будущие»), WAITING (англ. «ожидающие подтверждения»), REJECTED (англ. «отклонённые»). Бронирования должны возвращаться отсортированными по дате от более новых к более старым.
* <b>GET /bookings/owner?state={state}</b> - Получение списка бронирований для всех вещей текущего пользователя. Этот запрос имеет смысл для владельца хотя бы одной вещи. Работа параметра state аналогична его работе в предыдущем сценарии.

## Запросы
* <b>POST /requests</b> — Добавить новый запрос вещи. Основная часть запроса — текст запроса, где пользователь описывает, какая именно вещь ему нужна.
* <b>GET /requests</b> — Получить список своих запросов вместе с данными об ответах на них. Для каждого запроса должны указываться описание, дата и время создания и список ответов в формате: id вещи, название, id владельца. Так в дальнейшем, используя указанные id вещей, можно будет получить подробную информацию о каждой вещи. Запросы должны возвращаться в отсортированном порядке от более новых к более старым.
* <b>GET /requests/all?from={from}&size={size}</b> — Получить список запросов, созданных другими пользователями. С помощью этого эндпоинта пользователи смогут просматривать существующие запросы, на которые они могли бы ответить. Запросы сортируются по дате создания: от более новых к более старым. Результаты должны возвращаться постранично. Для этого нужно передать два параметра: from — индекс первого элемента, начиная с 0, и size — количество элементов для отображения.
* <b>GET /requests/{requestId}</b> — Получить данные об одном конкретном запросе вместе с данными об ответах на него в том же формате, что и в эндпоинте GET /requests. Посмотреть данные об отдельном запросе может любой пользователь.
